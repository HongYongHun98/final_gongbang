<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="order">


 	<!--==================== 이지현 시작 ====================== -->

	<!-- 품목 셀렉트 리스트 가져오기 -->
	<select id="select_types" resultType="com.spring.gotgongbang.order.model.TypesVO">
		select type_code_pk, type_name
		from TYPES
	</select>
	
	
	<!-- 선택한 품목 종류에 따라 요청사항 리스트 가져오기 -->
	<select id="bring_request_list" parameterType="String" resultType="com.spring.gotgongbang.order.model.TypesVO">
		select detail_type_pk, type_code_fk as type_code_pk, detail_type_name
		from detail_type
		where type_code_fk = #{type_code_pk}
	</select>
	
	
	
	<!-- 견적 요청하기 -->
	<insert id="insert_order" parameterType="HashMap">
		insert into ORDERS(order_num_pk,user_id_fk,order_date,brand_name,request_explain,requests,orderer,order_product_type)
		values( to_char(sysdate,'yymmdd')|| LPAD(SEQ_ORDERS.nextval, 4, '0'), '아이디', sysdate,'샤넬','깔끔하게 고쳐주세요','10,11,12','김어쩌고','10 아니면 가방')

	</insert>
	 <!--==================== 이지현 끝 ====================== -->



</mapper>